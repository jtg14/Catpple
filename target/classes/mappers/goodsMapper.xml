<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "portfolio.mapper.GoodsMapper">
	
	<!-- goodsInsert -->
	<insert id="goodsInsert">
		insert into 
		goods(gnum, gstock, gprice, gname, gimg1, gimg2, gpoint, gcategory, gcategory2) 
		values((select ifnull(max(gnum),0)+1 from goods as gnum), #{gstock}, #{gprice}, #{gname},#{gimg1},#{gimg2}, 0, #{gcategory}, #{gcategory2})
	</insert>
	<select id="goodsSearch" parameterType="String" resultType="vo.GoodsVO">
	select * from goods where gname like '${value}%' or gname like '%${value}%' or gname like '%${value}' or gcategory like '${value}%' or gcategory like '%${value}%' or gcategory like '%${value}' or gcategory2 like '${value}%' or gcategory2 like '%${value}%' or gcategory2 like '%${value}'
	
	</select>
</mapper>